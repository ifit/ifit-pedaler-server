<html>
<head>
	<title>Shortbus (RS-485) Manager</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>-->
	<script type="text/javascript">
		window.onload = onLoad
		function onLoad(){
		
		}
		setTimeout(function(){
            window.location.reload(1);
        }, 5000);
		<!--$(document).ready(function() {-->
			<!--var socket = io();-->
			<!--socket.on('connect', function() {-->
				<!--console.log('socket connected');-->
			<!--});-->
			<!--io.connect('http://' + document.domain + ':' + location.port + '/rs485socket');-->
			<!--socket.on('rs485MonUpdate', function(msg){-->
				<!--console.log(msg);-->
				<!--$('#log').append('<p>Received' + msg.data + '</p>');-->
			<!--});-->
		<!--});-->
	</script>
</head>
<body>
	<h1>iFit Shortbus (RS-485) Manager</h1>
	<div id="log"></div>
	<table id="statusTable" style="width:90%;">
		<thead>
			<tr>
				<th>Key</th>
				<th>Feature</th>
				<th>Command Name</th>
				<th>Value</th>
			</tr>
		</thead>
		{% if data %}
		<tbody>
			{% for key, value in data.items() %}
			<tr>
				<td title="First two digits are the address. Second two are the command.">{{key | b_to_str}}</td>
				<td>{{value.addr_str}}</td>
				<td>{{value.cmd_str}}</td>
				<td title="This is the decimal value.">{{value.data_str}}</td>
			</tr>
			{% endfor %}
		</tbody>
		{% endif %}
	</table>
</body>
</html>
